service: aare-ai

# =============================================================================
# DEPLOYMENT NOTES
# =============================================================================
# This serverless.yml is NOT used for production deployments.
#
# Production deployment uses deploy.sh which:
#   1. Builds a ZIP package with Z3 dependencies
#   2. Deploys directly to Lambda function: aare-ai-prod
#   3. The Lambda is connected to API Gateway (lw0t1qp1lh) via CloudFront (api.aare.ai)
#
# To deploy to production:
#   ./deploy.sh
#
# This serverless.yml is kept for reference and potential future use.
# =============================================================================

provider:
  name: aws
  runtime: python3.11
  region: us-west-2
  stage: ${opt:stage, 'prod'}

custom:
  # Existing AWS resources (do not recreate)
  apiGatewayId: lw0t1qp1lh
  lambdaFunction: aare-ai-prod
  ontologyBucket: aare-ai-ontologies-prod
  verificationTable: aare-ai-verifications-prod
  cloudFrontDomain: api.aare.ai
  apiKey: aare-ai-key-prod-v2

# =============================================================================
# CURRENT PRODUCTION CONFIGURATION (for reference)
# =============================================================================
# Lambda Function: aare-ai-prod
#   - Runtime: python3.11
#   - Handler: handlers.handler.handler
#   - Memory: 2048 MB
#   - Timeout: 60s
#   - Environment:
#       ONTOLOGY_DIR: /var/task/ontologies
#
# API Gateway: lw0t1qp1lh (prod-aare-ai)
#   - Endpoint: https://lw0t1qp1lh.execute-api.us-west-2.amazonaws.com/prod/verify
#   - Method: POST /verify
#   - Auth: API Key required
#
# CloudFront: E2AMMH8UWJ3VCF
#   - Domain: api.aare.ai
#   - Origin: lw0t1qp1lh.execute-api.us-west-2.amazonaws.com/prod
#
# DynamoDB: aare-ai-verifications-prod
# S3: aare-ai-ontologies-prod
# =============================================================================

